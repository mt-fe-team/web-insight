webpackJsonp([2,9],{I7i8:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",[t._v("请求参数")]),t._v(" "),a("div",{staticClass:"mb15"},[t._v(t._s(t.row.request||"无"))]),t._v(" "),a("div",{staticClass:"bdr-t pt15"},[t._v("响应参数")]),t._v(" "),a("div",[t._v(t._s(t.row.response||"无"))])])},r=[],i={render:s,staticRenderFns:r};e.a=i},XUaJ:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Card",{attrs:{shadow:"",padding:20}},[a("div",{staticClass:"ui-card-title",attrs:{slot:"title"},slot:"title"},[t._v("\n    API请求日志列表\n  ")]),t._v(" "),a("Row",{staticClass:"mb20",attrs:{gutter:20}},[a("Col",{attrs:{span:"8"}},[a("div",{attrs:{"data-flex":""}},[a("div",{staticClass:"w75 lh32"},[t._v("页面标题:")]),t._v(" "),a("div",{attrs:{"data-cell":""}},[a("Input",{attrs:{placeholder:"请输入页面标题"},model:{value:t.searchPms.title,callback:function(e){t.$set(t.searchPms,"title",e)},expression:"searchPms.title"}})],1)])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{attrs:{"data-flex":""}},[a("div",{staticClass:"w75 lh32"},[t._v("消息内容:")]),t._v(" "),a("div",{attrs:{"data-cell":""}},[a("Input",{attrs:{placeholder:"请输入消息内容"},model:{value:t.searchPms.message,callback:function(e){t.$set(t.searchPms,"message",e)},expression:"searchPms.message"}})],1)])]),t._v(" "),a("Col",{attrs:{span:"8"}},[a("div",{attrs:{"data-flex":""}},[a("div",{staticClass:"w75 lh32"},[t._v("发生时间:")]),t._v(" "),a("div",{attrs:{"data-cell":""}},[a("DatePicker",{staticClass:"pct100",attrs:{type:"daterange",options:t.pickerOptions,placement:"bottom-end",placeholder:"请选择时间段"},model:{value:t.rangeTime,callback:function(e){t.rangeTime=e},expression:"rangeTime"}})],1)])]),t._v(" "),a("Col",{staticClass:"tr mt15",attrs:{span:"24"}},[a("Button",{attrs:{type:"primary"},on:{click:t.search}},[t._v("查询")]),t._v(" "),a("Button",{on:{click:t.reset}},[t._v("重置")])],1)],1),t._v(" "),a("div",{staticClass:"tr mb10"},[a("ButtonGroup",[a("Button",{attrs:{type:"error"==t.searchPms.type?"error":"ghost"},on:{click:function(e){t.changetype("error")}}},[t._v("错误")]),t._v(" "),a("Button",{attrs:{type:"fail"==t.searchPms.type?"warning":"ghost"},on:{click:function(e){t.changetype("fail")}}},[t._v("异常")]),t._v(" "),a("Button",{attrs:{type:"success"==t.searchPms.type?"success":"ghost"},on:{click:function(e){t.changetype("success")}}},[t._v("成功")])],1)],1),t._v(" "),a("div",{staticClass:"mb20"},[a("Table",{attrs:{loading:t.tblLoading,columns:t.columns,data:t.data}})],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.total,expression:"total"}],staticClass:"tr"},[a("Page",{attrs:{total:t.total,"page-size":t.searchPms.limit},on:{"on-change":t.changePage}})],1)],1)},r=[],i={render:s,staticRenderFns:r};e.a=i},"cz+P":function(t,e,a){"use strict";var s=a("gyMJ"),r=a("JaHG"),i=a("geuB"),n=a("w+eW"),o=a.n(n),c=r.a.getTimeSlot("today"),l=c.startTime,d=c.endTime;e.a={components:{ExpandRow:i.default},data:function(){return{tblLoading:!0,total:0,columns:[{type:"expand",width:50,render:function(t,e){return t(i.default,{props:{row:e.row}})}},{title:"发生时间",key:"createdAt",render:function(t,e){return t("div",[t("div",o()(e.row.createdAt).format("YYYY-MM-DD")),t("div",o()(e.row.createdAt).format("hh:mm:ss"))])}},{title:"接口",key:"api"},{title:"耗时(ms)",key:"duration"},{title:"发生页面",key:"page"},{title:"页面标题",key:"title",render:function(t,e){return e.row.title||"-"}},{title:"浏览器 & 系统",key:"browser",render:function(t,e){return e.row.browser+e.row.os}}],data:[],rangeTime:[l,d],searchPms:{startTime:null,endTime:null,title:"",message:"",type:"error",page:1,limit:30},pickerOptions:{shortcuts:[{text:"今日",value:function(){var t=r.a.getTimeSlot("yesterday");return[t.startTime,t.endTime]}},{text:"昨日",value:function(){var t=r.a.getTimeSlot("yesterday");return[t.startTime,t.endTime]}},{text:"最近一周",value:function(){var t=r.a.getTimeSlot("week");return[t.startTime,t.endTime]}}]}}},mounted:function(){this.loadList()},methods:{changetype:function(t){t!==this.searchPms.type&&(this.searchPms.type=t,this.loadList())},search:function(){this.btnLoading=!0,this.loadList()},reset:function(){this.searchPms.title="",this.searchPms.message="",this.searchPms.page=0,this.rangeTime=[l,d],this.loadList()},changePage:function(t){this.searchPms.page=t},loadList:function(t){var e=this;return this.tblLoading=!0,this.searchPms.startTime=this.rangeTime[0],this.searchPms.endTime=this.rangeTime[1],s.a.getApiLogList(this.searchPms).then(function(a){return e.data=a[0],e.total=a[1],e.tblLoading=!1,t&&(e.btnLoading=!1),a}).catch(function(a){throw console.warn(a),e.tblLoading=!1,t&&(e.btnLoading=!1),a})}}}},f7vD:function(t,e,a){"use strict";e.a={props:{row:Object}}},geuB:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("f7vD"),r=a("I7i8"),i=a("VU/8"),n=i(s.a,r.a,!1,null,null,null);e.default=n.exports},lXLi:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("cz+P"),r=a("XUaJ"),i=a("VU/8"),n=i(s.a,r.a,!1,null,null,null);e.default=n.exports}});
//# sourceMappingURL=2.d0d50b4ae5444d0bc76b.js.map