webpackJsonp([11],{"+skl":function(t,e){},"/qq3":function(t,e,n){"use strict";function a(t){n("XaaS")}var i=n("UW77"),r=n("ZwR/"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},"0iJk":function(t,e,n){"use strict";function a(t){n("HIq0")}var i=n("cqch"),r=n("vJMf"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},"2CHa":function(t,e,n){"use strict";var a=n("aLbg");e.a={isLogged:function(){return!!a.a.User.current()},getAccount:function(){return a.a.User.current().toJSON()}}},"3Fh7":function(t,e,n){"use strict";var a,i=n("bOdI"),r=n.n(i),s=n("gyMJ"),o=n("5reh"),c=n("JaHG"),u=(a={},r()(a,o.LOGIN,function(t,e){return s.a.user.login(e).then(function(t){return t.toJSON()})}),r()(a,o.LOGOUT,function(t,e){return s.a.user.logout(e).then(function(e){return t.commit(o.LOGOUT,e),e})}),r()(a,o.FETCH_USER,function(t,e){var n=s.a.user.getUser();n=n?n.toJSON():{},t.commit(o.FETCH_USER,n),t.dispatch(o.INIT_SIDEBAR_MENUS,{user:n,routers:e})}),r()(a,o.INIT_SIDEBAR_MENUS,function(t,e){var n=c.a.getMenusByUser(e.user,e.routers);t.commit(o.INIT_SIDEBAR_MENUS,n)}),a);e.a=u},"5reh":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"TOGGLE_SIDEBAR",function(){return a}),n.d(e,"INIT_PAGES_TAGS",function(){return i}),n.d(e,"ADD_HISTORY_TAG",function(){return r}),n.d(e,"DEL_HISTORY_TAG",function(){return s}),n.d(e,"UPDATE_BREADCRUMB",function(){return o}),n.d(e,"TOGGLE_FULL_SCREEN",function(){return c}),n.d(e,"LOCKING",function(){return u}),n.d(e,"UNLOCKING",function(){return l}),n.d(e,"CHANGE_SYSTEM",function(){return d}),n.d(e,"SET_OPENED_MENUS",function(){return p}),n.d(e,"CLEARE_OPENED_MENUS",function(){return m}),n.d(e,"GET_JS_CHARTDATA",function(){return h}),n.d(e,"GET_API_CHARTDATA",function(){return f}),n.d(e,"GET_EVENT_CHARTDATA",function(){return g}),n.d(e,"JS_CHART_LOADING",function(){return v}),n.d(e,"API_CHART_LOADING",function(){return T}),n.d(e,"EVENT_CHART_LOADING",function(){return y}),n.d(e,"FETCH_USER",function(){return _}),n.d(e,"LOGIN",function(){return A}),n.d(e,"LOGOUT",function(){return b}),n.d(e,"INIT_SIDEBAR_MENUS",function(){return C});var a="layout/TOGGLE_SIDEBAR",i="history/INIT_PAGES_TAGS",r="history/ADD_HISTORY_TAG",s="history/DEL_HISTORY_TAG",o="app/UPDATE_BREADCRUMB",c="app/TOGGLE_FULL_SCREEN",u="app/LOCKING",l="app/UNLOCKING",d="app/CHANGE_SYSTEM",p="app/SET_OPENED_MENUS",m="app/CLEARE_OPENED_MENUS",h="app/GET_JS_CHARTDATA",f="app/GET_API_CHARTDATA",g="app/GET_EVENT_CHARTDATA",v="app/JS_CHART_LOADING",T="app/API_CHART_LOADING",y="app/EVENT_CHART_LOADING",_="user/FETCH_USER",A="user/LOGIN",b="user/LOGOUT",C="user/INIT_SIDEBAR_MENUS"},"6EED":function(t,e,n){"use strict";var a=n("3Fh7"),i=n("UY6v"),r=n("sRpY"),s={account:{},menus:[]};e.a={state:s,actions:a.a,getters:r,mutations:i.a}},"8r70":function(t,e,n){"use strict";function a(t){n("cOvL")}var i=n("Rgyp"),r=n("UZvg"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},A66B:function(t,e,n){t.exports=function(t){return function(){return n("Opzk")("./"+t+".vue")}}},ARoL:function(t,e,n){"use strict";function a(t){n("X4V9")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("bPRz"),r=n("rUn1"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,null,null);e.default=c.exports},AwRT:function(t,e){},AwTl:function(t,e,n){"use strict";var a=n("NZrW"),i=n("COip"),r=n("VU/8"),s=r(a.a,i.a,!1,null,null,null);e.a=s.exports},Axgz:function(t,e,n){"use strict";var a=n("fZjL"),i=n.n(a),r=n("jryF");e.a={install:function(t){i()(r.a).forEach(function(e){return t.filter(e,r.a[e])})}}},COip:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("count-to",{ref:"counter",attrs:{startVal:t.startVal,endVal:t.endVal,duration:t.duration}})},i=[],r={render:a,staticRenderFns:i};e.a=r},FNRW:function(t,e,n){"use strict";function a(t){n("AwRT")}var i=n("RgSZ"),r=n("WJOr"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,"data-v-2b69bae2",null);e.a=c.exports},FzD4:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},i=[],r={render:a,staticRenderFns:i};e.a=r},HIq0:function(t,e){},HrZT:function(t,e,n){"use strict";function a(t){n("YCdT")}var i=n("cQGf"),r=n("QFMx"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},IcnI:function(t,e,n){"use strict";var a=n("7+uW"),i=n("NYxO"),r=n("cRwL"),s=n("6EED");a.default.use(i.a);e.a=new i.a.Store({modules:{app:r.a,user:s.a},strict:!1})},JaHG:function(t,e,n){"use strict";var a=n("Dd8w"),i=n.n(a),r=n("fZjL"),s=n.n(r),o=n("bOdI"),c=n.n(o),u=n("w+eW"),l=n.n(u),d=n("M4fF"),p=n.n(d);l.a.locale("zh-cn"),e.a={setTitle:function(t){document.title=t||"Web日志分析系统"},getMenusByUser:function(t,e){return e=e.filter(function(t){return t.inSidebar}),this.withoutComponent(e)},withoutComponent:function(t){var e=this,n=[];return n=t.map(function(t){return t.component&&delete t.component,t.children&&(n=n.concat(e.withoutComponent(t.children))),t})},getPagesTags:function(t){var e=this,n=[];return t.forEach(function(t){t.children?n=n.concat(e.getPagesTags(t.children)):n.push({name:t.name,title:t.meta.title})}),n},getBreadcrumbData:function(t){var e=t.matched;return e[0].redirect&&"home"!==e[0].name||(e=e.slice(1)),"home-dashboard"===e[0].name?[]:e.map(function(t){return{title:t.meta.title,name:t.name,path:""}})},startOfDay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return l()(t).startOf("day").toDate()},endOfDay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date;return l()(t).endOf("day").toDate()},getTimeSlot:function(t){var e=l()().endOf("day").toDate(),n=l()().add(-1,"days");return{today:{startTime:l()().startOf("day").toDate(),endTime:e},yesterday:{startTime:n.startOf("day").toDate(),endTime:n.endOf("day").toDate()},week:{startTime:l()().add(-6,"days").startOf("day").toDate(),endTime:e}}[t]},buildChartData:function(t){var e=t.list,n=t.groupName,a=t.chartData,r=t.startTime,o=t.endTime,u=l()(o).diff(l()(r),"days")>=1,d=l()().add(-6,"days").startOf("day").toDate()-r<=0,m=l()().startOf("day").toDate()-r==0,h="";h=u?d?"ddd":"MM/DD":"hh:mm";var f=e.map(function(t){var e=l()(t.get("createdAt")).format(h);return c()({createdAt:e},n,t.get(n))}),g=p.a.groupBy(f,"createdAt");s()(g).forEach(function(t){g[t]=p.a.countBy(g[t],n)});var v=s()(a);return s()(g).forEach(function(t){v.forEach(function(e){return a[e].push(g[t][e]||0)})}),{isToday:m,nums:p.a.countBy(f,n),chartData:i()({xAxis:s()(g)},a)}}}},JhVs:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app-wrapper",attrs:{id:"app"}},[n("router-view")],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},M93x:function(t,e,n){"use strict";function a(t){n("sq5D")}var i=n("xJD8"),r=n("JhVs"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),i=n("BTaQ"),r=n.n(i),s=n("M93x"),o=n("YaEn"),c=n("IcnI"),u=n("9JMe"),l=(n.n(u),n("+skl")),d=(n.n(l),n("Axgz")),p=n("zeVt");a.default.config.productionTip=!1,a.default.use(r.a),a.default.use(d.a),a.default.use(p.a),Object(u.sync)(c.a,o.a),new a.default({el:"#app",store:c.a,router:o.a,template:"<App/>",components:{App:s.a},mounted:function(){var t=this;["fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange"].forEach(function(e){document.addEventListener(e,function(){t.$store.commit(t.$$types.TOGGLE_FULL_SCREEN,{changeState:!0})})})}})},NZrW:function(t,e,n){"use strict";var a=n("WBHA"),i=n.n(a);e.a={props:{startVal:{type:Number,default:0},endVal:{type:Number,default:0},duration:{type:Number,default:3e3}},components:{CountTo:i.a},watch:{endVal:function(){this.$refs.counter.start()}}}},Nifd:function(t,e,n){"use strict";var a,i=n("bOdI"),r=n.n(i),s=n("Y4FN"),o=n.n(s),c=n("5reh"),u=(a={},r()(a,c.TOGGLE_SIDEBAR,function(t,e){var n=!t.sidebarOpened;o.a.set("sidebarStatus",~~n),t.sidebarOpened=n}),r()(a,c.ADD_HISTORY_TAG,function(t,e){var n=e.params,a=e.query,i=e.name,r=e.meta;t.historyTags.some(function(t){return t.name===i})||(8===t.historyTags.length&&t.historyTags.splice(1,1),t.historyTags.push({name:i,title:r.title,query:a,params:n}))}),r()(a,c.DEL_HISTORY_TAG,function(t,e){var n=t.historyTags.filter(function(t){return t.name===e.name})[0];n&&t.historyTags.splice(t.historyTags.indexOf(n),1)}),r()(a,c.INIT_PAGES_TAGS,function(t,e){t.historyTags=e.filter(function(t){return"首页"===t.title}),t.pagesTags=e}),r()(a,c.UPDATE_BREADCRUMB,function(t,e){t.breadCrumb.length>1&&t.breadCrumb.splice(1),e.length&&(t.breadCrumb=t.breadCrumb.concat(e))}),r()(a,c.TOGGLE_FULL_SCREEN,function(t,e){if(e.changeState)t.isFullScreen=!t.isFullScreen;else{var n=document.getElementById("app");if(t.isFullScreen){var a=["exitFullscreen","mozCancelFullScreen","webkitCancelFullScreen","msExitFullscreen"].filter(function(t){return document[t]})[0];a&&document[a]()}else{var i=["requestFullscreen","mozRequestFullScreen","webkitRequestFullScreen","msRequestFullscreen"].filter(function(t){return n[t]})[0];i&&n[i]()}}}),r()(a,c.CHANGE_SYSTEM,function(t,e){t.currentSystem=e}),r()(a,c.SET_OPENED_MENUS,function(t,e){t.openedMenus=e}),r()(a,c.CLEARE_OPENED_MENUS,function(t){t.openedMenus=[],console.log(t.openedMenus)}),r()(a,c.GET_JS_CHARTDATA,function(t,e){t.jsChartData=e,o()()}),r()(a,c.GET_API_CHARTDATA,function(t,e){t.apiChartData=e}),r()(a,c.GET_EVENT_CHARTDATA,function(t,e){t.eventChartData=e}),r()(a,c.JS_CHART_LOADING,function(t,e){t.jsChartLoading=e}),r()(a,c.API_CHART_LOADING,function(t,e){t.apiChartLoading=e}),r()(a,c.EVENT_CHART_LOADING,function(t,e){t.eventChartLoading=e}),a);e.a=u},O8f1:function(t,e,n){"use strict";var a=n("PY8H"),i=n("Q+7n"),r=n("VU/8"),s=r(a.a,i.a,!1,null,null,null);e.a=s.exports},Opzk:function(t,e,n){function a(t){var e=i[t];return e?Promise.all(e.slice(1).map(n.e)).then(function(){return n(e[0])}):Promise.reject(new Error("Cannot find module '"+t+"'."))}var i={"./ajax/components/expand-row.vue":["geuB",9],"./ajax/index.vue":["lXLi",2],"./dashboard/components/api-bar-chart.vue":["kciO"],"./dashboard/components/event-bar-chart.vue":["kvrL"],"./dashboard/components/js-bar-chart.vue":["enWK"],"./dashboard/index.vue":["ARoL"],"./error-pages/401.vue":["vxSd",7],"./error-pages/404.vue":["R1k1",6],"./error-pages/500.vue":["lGKT",5],"./events/index.vue":["qbFM",4],"./locking/index.vue":["/aAo",1],"./locking/unlock.vue":["03Du",3],"./login/index.vue":["T+/8"],"./script/components/expand-row.vue":["x3HE",8],"./script/index.vue":["wIp/",0]};a.keys=function(){return Object.keys(i)},a.id="Opzk",t.exports=a},PC7p:function(t,e){},PY8H:function(t,e,n){"use strict";e.a={name:"SidebarMenuShrink",props:{menus:{type:Array},iconColor:{type:String,default:"white"}},computed:{currentPageName:function(){return this.$route.name}},methods:{changeMenu:function(t){this.$router.push({name:t})}}}},PiWw:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},i=[],r={render:a,staticRenderFns:i};e.a=r},"Q+7n":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.menus,function(e,a){return[n("div",{key:a,staticStyle:{"text-align":"center"}},[1!==e.children.length?n("Dropdown",{key:a,attrs:{transfer:"",placement:"right-start"},on:{"on-click":t.changeMenu}},[n("Button",{staticStyle:{width:"70px","margin-left":"-5px",padding:"10px 0"},attrs:{type:"text"}},[n("Icon",{attrs:{size:20,color:t.iconColor,type:e.icon}})],1),t._v(" "),n("DropdownMenu",{staticStyle:{width:"200px"},attrs:{slot:"list"},slot:"list"},[t._l(e.children,function(e,a){return[n("DropdownItem",{key:a,attrs:{name:e.name}},[n("Icon",{attrs:{type:e.icon}}),t._v(" "),n("span",{staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.meta.title))])],1)]})],2)],1):n("Dropdown",{key:a,attrs:{transfer:"",placement:"right-start"},on:{"on-click":t.changeMenu}},[n("Button",{staticStyle:{width:"70px","margin-left":"-5px",padding:"10px 0"},attrs:{type:"text"},on:{click:function(n){t.changeMenu(e.children[0].name)}}},[n("Icon",{attrs:{size:20,color:t.iconColor,type:e.icon}})],1),t._v(" "),n("DropdownMenu",{staticStyle:{width:"200px"},attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{key:"d"+a,attrs:{name:e.children[0].name}},[n("Icon",{attrs:{type:e.icon}}),t._v(" "),n("span",{staticStyle:{"padding-left":"10px"}},[t._v(t._s(e.children[0].meta.title))])],1)],1)],1)],1)]})],2)},i=[],r={render:a,staticRenderFns:i};e.a=r},QFMx:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-history"},[n("div",{staticClass:"main-history-inner"},t._l(t.historyTags,function(e,a){return n("Tag",{key:e.name,attrs:{type:"dot",name:e.name,closable:"home-dashboard"!==e.name,color:e.name===t.currPageName?"blue":"default"},on:{"on-close":t.closePage},nativeOn:{click:function(n){t.linkTo(e)}}},[t._v(t._s(e.title))])}))])},i=[],r={render:a,staticRenderFns:i};e.a=r},QYZ7:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.className,style:{height:t.height,width:t.width},attrs:{id:t.id}})},i=[],r={render:a,staticRenderFns:i};e.a=r},QmSG:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var a={serviceorder:"客服转化订单数"},i={jsLogChart:"APP/js_log_chart",apiLogChart:"APP/api_log_chart",eventLogChart:"APP/event_log_chart"}},RgSZ:function(t,e,n){"use strict";e.a={name:"MainSidebar",props:{sidebarOpened:Boolean,menus:Array,opened:Array},data:function(){return{pageName:this.$route.name,openedMenus:[]}},watch:{$route:function(t){this.pageName=t.name},opened:function(){var t=this;this.openedMenus=this.opened.slice(),this.$nextTick(function(){t.$refs.sideMenu.updateOpened()})}},methods:{changeMenu:function(t){this.$router.push({name:t})}}}},Rgyp:function(t,e,n){"use strict";e.a={name:"MainFooter"}},S0K8:function(t,e,n){"use strict";var a=n("XLwt"),i=n.n(a);e.a={props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},loading:{type:Boolean,default:!1},data:{type:Object,default:function(){return{xAxis:null,error:null,warn:null,info:null,debug:null}}}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(document.getElementById(this.id)),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{icon:"rect",itemGap:13,itemWidth:14,itemHeight:14,data:["错误","警告","调试","日志"],right:"4%"},grid:{left:"3%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.data.xAxis,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#E6E6E6",width:2}},axisLabel:{textStyle:{fontSize:14,color:"#333"}}}],yAxis:[{type:"value",axisTick:{show:!1},axisLabel:{margin:10,fontFamily:"Arial",textStyle:{fontSize:14,color:"#333"}},axisLine:{show:!1},splitLine:{lineStyle:{color:["#E9E9E9"],type:"dotted"}}}],series:[{name:"错误",data:this.data.error,type:"bar",stack:"group",barWidth:"20%",animationDuration:3e3,itemStyle:{normal:{color:"rgba(236, 58, 67, 0.7)",label:{show:!0,textStyle:{color:"#fff"},position:"insideTop",formatter:function(t){return t.value>4?t.value:""}}}}},{name:"警告",data:this.data.warn,type:"bar",stack:"group",barWidth:"20%",animationDuration:3e3,itemStyle:{normal:{color:"rgba(255, 153, 19, 0.7)",label:{show:!0,textStyle:{color:"#fff"},position:"insideTop",formatter:function(t){return t.value>4?t.value:""}}}}},{name:"调试",data:this.data.debug,type:"bar",stack:"group",barWidth:"20%",animationDuration:3e3,itemStyle:{normal:{color:"rgba(24, 144, 255, 0.7)",label:{show:!0,textStyle:{color:"#fff"},position:"insideTop",formatter:function(t){return t.value>4?t.value:""}}}}},{name:"日志",data:this.data.info,type:"bar",stack:"group",barWidth:"20%",animationDuration:3e3,itemStyle:{normal:{color:"rgba(217, 217, 217, 1)",label:{show:!0,textStyle:{color:"#fff"},position:"insideTop",formatter:function(t){return t.value>4?t.value:""}}}}}]})},showLoading:function(){this.chart&&this.chart.showLoading({title:"正在努力加载中",color:"#2D8CF0"})},hideLoading:function(){this.chart&&this.chart.hideLoading()}},watch:{data:function(t){var e=this;if(this.chart){var n=this.chart.getOption();n.xAxis[0].data=t.xAxis,n.series[0].data=t.error,n.series[1].data=t.warn,n.series[2].data=t.info,n.series[3].data=t.debug,this.$nextTick(function(){e.chart.setOption(n),e.hideLoading()})}},loading:function(t){t&&this.showLoading()}}}},"T+/8":function(t,e,n){"use strict";function a(t){n("PC7p")}Object.defineProperty(e,"__esModule",{value:!0});var i=n("m1D0"),r=n("idgd"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,null,null);e.default=c.exports},UW77:function(t,e,n){"use strict";e.a={name:"MainContent",computed:{key:function(){return void 0!==this.$route.name?this.$route.name+ +new Date:this.$route+ +new Date}}}},UY6v:function(t,e,n){"use strict";var a,i=n("bOdI"),r=n.n(i),s=n("5reh"),o=(a={},r()(a,s.LOGOUT,function(t,e){t.account={}}),r()(a,s.FETCH_USER,function(t,e){t.account=e}),r()(a,s.INIT_SIDEBAR_MENUS,function(t,e){t.menus=e}),a);e.a=o},UZvg:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",[t._v("\n  MainFooter\n")])},i=[],r={render:a,staticRenderFns:i};e.a=r},WJOr:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Menu",{ref:"sideMenu",staticClass:"main-sidebar",attrs:{theme:"dark",width:"auto","active-name":t.pageName,"open-names":t.openedMenus},on:{"on-select":t.changeMenu}},[t._l(t.menus,function(e){return[1===e.children.length?n("MenuItem",{key:e.path,attrs:{name:e.children[0].name}},[n("Icon",{key:e.path,attrs:{type:e.icon,size:t.sidebarOpened?18:20}}),t._v(" "),n("span",{key:e.path,staticClass:"main-sidebar-text"},[t._v(t._s(e.meta.title))])],1):t._e(),t._v(" "),e.children.length>1?n("Submenu",{key:e.path,attrs:{name:e.name}},[n("template",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:e.icon,size:t.sidebarOpened?18:20}}),t._v(" "),n("span",{staticClass:"main-sidebar-text"},[t._v(t._s(e.meta.title))])],1),t._v(" "),t._l(e.children,function(e){return[n("MenuItem",{key:e.name,attrs:{name:e.name}},[n("Icon",{key:e.name,attrs:{type:e.icon,size:t.sidebarOpened?18:20}}),t._v(" "),n("span",{key:e.name,staticClass:"main-sidebar-text"},[t._v(t._s(e.meta.title))])],1)]})],2):t._e()]})],2)},i=[],r={render:a,staticRenderFns:i};e.a=r},X4V9:function(t,e){},XaaS:function(t,e){},YCdT:function(t,e){},YaEn:function(t,e,n){"use strict";var a=n("Gu7T"),i=n.n(a),r=n("7+uW"),s=n("/ocq"),o=n("BTaQ"),c=n.n(o),u=n("IcnI"),l=n("5reh"),d=n("2CHa"),p=n("JaHG"),m=n("uzPl"),h=n("Y4FN"),f=n.n(h),g=n("T+/8"),v=n("A66B");r.default.use(s.a);var T=[{path:"/login",name:"login",component:g.default},{path:"/locking",name:"locking",meta:{title:"锁屏中"},component:v("locking/index")}].concat(i()(m.a)),y=new s.a({routes:T});u.a.dispatch(l.INIT_PAGES_TAGS,m.a),y.beforeEach(function(t,e,n){c.a.LoadingBar.start();var a=d.a.isLogged(),i="login"===t.name,r="1"===f.a.get("locking"),s="locking"===t.name;if(r&&!s)return n(!1),y.replace({name:"locking"});a?(p.a.setTitle(t.meta.title),u.a.getters.username||u.a.dispatch(l.FETCH_USER,T),i?n({name:"home"}):n()):i||s?n():n({name:"login"})}),y.afterEach(function(){c.a.LoadingBar.finish(),window.scrollTo(0,0)}),e.a=y},"ZwR/":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-content"},[n("div",{staticClass:"main-content-inner"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{key:t.key})],1)],1)])},i=[],r={render:a,staticRenderFns:i};e.a=r},aLbg:function(t,e,n){"use strict";var a=n("JnRc"),i=n.n(a);i.a.init({appId:"GAHOQoW5LU5k5MstvbjHJiQn-gzGzoHsz",appKey:"IQ7Je02a33Mm5AVkAikKwxL2"}),e.a=i.a},bPRz:function(t,e,n){"use strict";var a=n("d7EF"),i=n.n(a),r=n("Dd8w"),s=n.n(r),o=n("NYxO"),c=n("JaHG"),u=n("AwTl"),l=n("enWK"),d=n("kciO"),p=n("kvrL");e.a={name:"Dashboard",data:function(){var t=c.a.getTimeSlot("today"),e=t.startTime,n=t.endTime;return{jsTimeType:"today",apiTimeType:"today",eventTimeType:"today",initStartTime:e,initEndTime:n,jsRangeTime:[e,n],apiRangeTime:[e,n],eventRangeTime:[e,n]}},components:{JsBarChart:l.default,EventBarChart:p.default,ApiBarChart:d.default,Counter:u.a},computed:s()({},Object(o.b)(["jsErrorNum","jsWarnNum","jsDebugNum","jsInfoNum","jsChartData","apiErrorNum","apiFailNum","apiSuccessNum","apiChartData","jsChartLoading","apiChartLoading","eventChartLoading","eventNums","eventChartData"])),mounted:function(){var t=c.a.getTimeSlot("today"),e=t.startTime,n=t.endTime;this.$store.dispatch(this.$$types.GET_JS_CHARTDATA,{startTime:e,endTime:n}),this.$store.dispatch(this.$$types.GET_API_CHARTDATA,{startTime:e,endTime:n}),this.$store.dispatch(this.$$types.GET_EVENT_CHARTDATA,{startTime:e,endTime:n})},methods:{changeTime:function(t,e){if(("js"!==t||e!==this.jsTimeType)&&!("api"===t&&e===this.apiTimeType||"event"===t&&e===this.eventTimeType)){var n=c.a.getTimeSlot(e),a=n.startTime,i=n.endTime;switch(t){case"js":this.jsTimeType=e,this.jsRangeTime=[a,i],this.$store.dispatch(this.$$types.GET_JS_CHARTDATA,{startTime:a,endTime:i});break;case"api":this.apiTimeType=e,this.apiRangeTime=[a,i],this.$store.dispatch(this.$$types.GET_API_CHARTDATA,{startTime:a,endTime:i});break;case"event":this.eventTimeType=e,this.eventRangeTime=[a,i],this.$store.dispatch(this.$$types.GET_EVENT_CHARTDATA,{startTime:a,endTime:i})}}},changeRangeTime:function(t){var e=this;this.$nextTick(function(){var n=void 0,a=void 0,i=void 0;"js"===t?(e.jsTimeType="",n=e.jsRangeTime[0],a=e.jsRangeTime[1],i=e.$$types.GET_JS_CHARTDATA):"api"===t?(e.apiTimeType="",n=e.apiRangeTime[0],a=e.apiRangeTime[1],i=e.$$types.GET_API_CHARTDATA):(e.eventTimeType="",n=e.eventRangeTime[0],a=e.eventRangeTime[1],i=e.$$types.GET_EVENT_CHARTDATA),e.$store.dispatch(i,{startTime:c.a.startOfDay(n),endTime:c.a.endOfDay(a)})})},refreshChart:function(t){var e=void 0,n=void 0,a=void 0;if("js"===t){var r=i()(this.jsRangeTime,2);e=r[0],n=r[1],a=this.$$types.GET_JS_CHARTDATA}else if("api"===t){var s=i()(this.apiRangeTime,2);e=s[0],n=s[1],a=this.$$types.GET_API_CHARTDATA}else{var o=i()(this.eventRangeTime,2);e=o[0],n=o[1],a=this.$$types.GET_EVENT_CHARTDATA}this.$store.dispatch(a,{startTime:e,endTime:n})}}}},cHHQ:function(t,e,n){"use strict";var a=n("Dd8w"),i=n.n(a),r=n("NYxO"),s=n("FNRW"),o=n("O8f1"),c=n("0iJk"),u=n("8r70"),l=n("HrZT"),d=n("/qq3"),p=n("JaHG"),m=n("Y4FN"),h=n.n(m);e.a={name:"Layout",components:{MainSidebar:s.a,MainHeader:c.a,MainFooter:u.a,MainHistory:l.a,MainContent:d.a,MainSidebarShrink:o.a},computed:i()({},Object(r.c)({sidebarOpened:function(t){return t.app.sidebarOpened},menus:function(t){return t.user.menus},username:function(t){return t.user.account.username},currentSystem:function(t){return t.app.currentSystem},openedMenus:function(t){return t.app.openedMenus}})),mounted:function(){if(!h.a.get("hasGreet")){var t=new Date,e=t.getHours(),n={title:"",words:""},a=this.username;n=e>5&&e<6?{title:"凌晨好~"+a,words:"早起的鸟儿有虫吃~"}:e>=6&&e<9?{title:"早上好~"+a,words:"来一杯咖啡开启美好的一天~"}:e>=9&&e<12?{title:"上午好~"+a,words:"工作要加油哦~"}:e>=12&&e<14?{title:"中午好~"+a,words:"午饭要吃饱~"}:e>=14&&e<17?{title:"下午好~"+a,words:"下午也要活力满满哦~"}:e>=17&&e<19?{title:"傍晚好~"+a,words:"下班没事问候下爸妈吧~"}:e>=19&&e<21?{title:"晚上好~"+a,words:"工作之余品一品书香吧~"}:{title:"深夜好~"+a,words:"夜深了，注意休息哦~"},this.$Notice.config({top:100}),this.$Notice.info({title:n.title,desc:n.words,duration:4,name:"greeting"}),h.a.set("hasGreet",1)}var i=p.a.getBreadcrumbData(this.$route);this.$store.dispatch(this.$$types.UPDATE_BREADCRUMB,i)},methods:{getLetter:function(){return this.sidebarOpened?this.currentSystem:this.currentSystem.substring(0,1).toUpperCase()},onChangeSystem:function(t){this.$store.commit(this.$$types.CHANGE_SYSTEM,t)}},watch:{$route:function(t){var e=p.a.getBreadcrumbData(t);this.$store.dispatch(this.$$types.UPDATE_BREADCRUMB,e),this.$store.dispatch(this.$$types.ADD_HISTORY_TAG,t)}}}},cOvL:function(t,e){},cQGf:function(t,e,n){"use strict";var a=n("Dd8w"),i=n.n(a),r=n("NYxO");e.a={name:"MainHistory",computed:i()({currPageName:function(){return this.$route.name}},Object(r.c)({historyTags:function(t){return t.app.historyTags}})),methods:{closePage:function(t,e){this.$store.dispatch(this.$$types.DEL_HISTORY_TAG,{name:e}),e===this.currPageName&&this.$router.push({name:"home-dashboard"})},linkTo:function(t){this.$router.push(t)}}}},cRwL:function(t,e,n){"use strict";var a=n("po19"),i=n("Nifd"),r=n("zBB5"),s=n("Y4FN"),o=n.n(s),c=n("QmSG"),u={sidebarOpened:!!+o.a.get("sidebarStatus"),historyTags:[],pagesTags:[],currentSystem:"Mobile",breadCrumb:[{title:"首页",name:"home-dashboard",path:"/dashboard"}],isFullScreen:!1,openedMenus:[],jsChartData:o.a.get(c.b.jsLogChart)||{},jsChartLoading:!0,apiChartData:o.a.get(c.b.apiLogChart)||{},apiChartLoading:!0,eventChartData:o.a.get(c.b.eventLogChart)||{},eventChartLoading:!0};e.a={state:u,actions:a.a,getters:r,mutations:i.a}},cjRC:function(t,e){},cqch:function(t,e,n){"use strict";var a=n("Dd8w"),i=n.n(a),r=n("NYxO"),s=n("Y4FN"),o=n.n(s);e.a={name:"MainNavbar",data:function(){return{lockScreenSize:0}},computed:i()({},Object(r.c)({account:function(t){return t.user.account},sidebarOpened:function(t){return t.app.sidebarOpened},breadCrumbData:function(t){return t.app.breadCrumb},isFullScreen:function(t){return t.app.isFullScreen}})),mounted:function(){var t=this,e=document.getElementById("lock_screen_back"),n=document.body.clientWidth,a=document.body.clientHeight,i=Math.sqrt(n*n+a*a),r=parseInt(i);this.lockScreenSize=r,window.addEventListener("resize",function(){var n=document.body.clientWidth,a=document.body.clientHeight,i=Math.sqrt(n*n+a*a),r=parseInt(i);t.lockScreenSize=r,e.style.transition="all 0s",e.style.width=e.style.height=r+"px"}),e.style.width=e.style.height=r+"px"},methods:{toggleSidebar:function(){this.$store.dispatch(this.$$types.TOGGLE_SIDEBAR)},toggleFullScreen:function(){this.$store.commit(this.$$types.TOGGLE_FULL_SCREEN,{changeState:!1})},handleClickUserDropdown:function(t){var e=this;"logout"===t&&this.$store.dispatch(this.$$types.LOGOUT).then(function(t){e.$router.push({name:"login"})})},lockScreen:function(){var t=this,e=document.getElementById("lock_screen_back");e.style.transition="all 3s",e.style.zIndex=1e4,e.style.boxShadow="0 0 0 "+this.lockScreenSize+"px #667aa6 inset",this.showUnlock=!0,o.a.set("last_page_name",this.$route.name),this.$store.dispatch(this.$$types.LOGOUT).then(function(n){o.a.set("locking",1),setTimeout(function(){e.style.transition="all 0s",t.$router.push({name:"locking"})},800)})}}}},"dLd/":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDphZWRjNzY0Mi1lYTNjLTlhNDAtYWI5ZS04Yjk0NTcyYTk3OTQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDg0QzlFRkVCNkUwMTFFN0EzN0ZERENGRjc2MUQ3MzEiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDg0QzlFRkRCNkUwMTFFN0EzN0ZERENGRjc2MUQ3MzEiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOmFjYTMwN2I3LTZmNjMtNmQ0Ny1hMmZiLTU5NDFiMjEzNTBiZiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDplN2I4ZGEyMy04YzVlLTZjNGMtYjE2ZC04ZmExZTFkZDk3ZWQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7Ie6IIAAAB2UlEQVR42uzcvUocYRSA4ZgVtxFszU+ZwspKC+9iBQ0EkjtIIwEXb0DQEJLGK9BOjPE+DIHUlkrqQJpdkfEII4iZCTMTR7+R54XTLKvIeZhvHFh2IsuyJ0qnp1YARECAqGGTRS/Of/pd9PJUzCCfpZjn+Wv6uz8xpzE/Yg5jjmLGt9/088NMNZCClmO2Y17ZdaWmY+byeRNzEjOM+fq/R1YvZiv/RTCad7W7g3yXvdpH1o02Y9bt88663uWwyRWyAqM1lJW6IFc3689211pfyv4hKgNZjXlpb631IuZ1HZCBnbXeoA7Ion213kIdkFn7ar1ndUD69tV6tW7qeqCAANG/muzUX/tur/p7d98Cab3+yJElIEAERECACIgHw/tt1AeSVB19+nZkAREQIHJTv1XRh5PLKvnAuCtEQIAICBABASIgAgJEQIAICBABASIgAgJEQIAICBABASIgAgJEQIAICBABASIgAgJEQIAICBABASIgAgJEQIAIyOOpU98o19VviXOFdKMxkLT6BSStjoGk1Tcg6XQWsw8kndZiRkDS6GPZ1QHk/tuJ2fAc8vCdxKzGvI+5eDRP6h3qPL9xf485zI+ocZUfnMiyzPoSypEFRECAqGmXAgwAYbU29yhzPkwAAAAASUVORK5CYII="},enWK:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("S0K8"),i=n("PiWw"),r=n("VU/8"),s=r(a.a,i.a,!1,null,null,null);e.default=s.exports},f1I7:function(t,e,n){"use strict";var a=n("XLwt"),i=n.n(a);e.a={props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},loading:{type:Boolean,default:!1},data:{type:Object,default:function(){return{xAxis:null,error:null,warn:null,info:null,debug:null}}}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(document.getElementById(this.id)),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{icon:"rect",itemGap:13,itemWidth:14,itemHeight:14,data:["失败","异常","成功"],right:"4%"},grid:{left:"3%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:this.data.xAxis,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#E6E6E6",width:2}},axisLabel:{textStyle:{fontSize:14,color:"#333"}}}],yAxis:[{type:"value",axisTick:{show:!1},axisLabel:{margin:10,fontFamily:"Arial",textStyle:{fontSize:14,color:"#333"}},axisLine:{show:!1},splitLine:{lineStyle:{color:["#d9d9d9"]}}}],series:[{name:"失败",data:this.data.error,type:"bar",stack:"group",barWidth:"20%",animationDuration:3e3,itemStyle:{normal:{color:"rgba(236, 58, 67, 0.7)",label:{show:!0,textStyle:{color:"#fff",fontSize:14},position:"insideTop",formatter:function(t){return t.value>4?t.value:""}}}}},{name:"异常",data:this.data.fail,type:"bar",stack:"group",barWidth:"20%",animationDuration:3e3,itemStyle:{normal:{color:"rgba(255, 153, 19, 0.7)",label:{show:!0,textStyle:{color:"#fff",fontSize:14},position:"insideTop",formatter:function(t){return t.value>4?t.value:""}}}}},{name:"成功",data:this.data.debug,type:"bar",stack:"group",barWidth:"20%",animationDuration:3e3,itemStyle:{normal:{color:"#52c41a",label:{show:!0,textStyle:{color:"#fff",fontSize:14},position:"insideTop",formatter:function(t){return t.value>4?t.value:""}}}}}]})},showLoading:function(){this.chart&&this.chart.showLoading({title:"正在努力加载中",color:"#2D8CF0"})},hideLoading:function(){this.chart&&this.chart.hideLoading()}},watch:{data:function(t){var e=this;if(this.chart){var n=this.chart.getOption();n.xAxis[0].data=t.xAxis,n.series[0].data=t.error,n.series[1].data=t.fail,n.series[2].data=t.success,this.$nextTick(function(){e.chart.setOption(n),e.hideLoading()})}},loading:function(t){t?this.showLoading():this.hideLoading()}}}},gyMJ:function(t,e,n){"use strict";var a=n("//Fk"),i=n.n(a),r=n("Xxa5"),s=n.n(r),o=n("BO1k"),c=n.n(o),u=n("fZjL"),l=n.n(u),d=n("exGp"),p=n.n(d),m=n("vMJZ"),h=n("aLbg"),f=n("JaHG"),g=n("QmSG"),v=this,T=function(t){var e=t.type,n=t.startTime,a=t.endTime,i=t.props,r=void 0===i?[]:i,s=t.groupName,o=t.chartData,c=new h.a.Query("tb_mobile_"+e);return c.greaterThanOrEqualTo("createdAt",n),c.lessThanOrEqualTo("createdAt",a),c.descending("createdAt"),r.length&&c.select(r),c.find().then(function(t){return f.a.buildChartData({list:t,groupName:s,chartData:o,startTime:n,endTime:a})})},y=function(t){var e=t.tblName,n=t.startTime,a=t.endTime,i=new h.a.Query("tb_mobile_event_"+e);return i.greaterThanOrEqualTo("createdAt",n),i.lessThanOrEqualTo("createdAt",a),i.count()},_=function(){var t=p()(s.a.mark(function t(e){var n,a,i,r,o,u,d,p,m,h=e.startTime,f=e.endTime;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=l()(g.a),i=!0,r=!1,o=void 0,t.prev=5,u=c()(a);case 7:if(i=(d=u.next()).done){t.next=26;break}return p=d.value,t.prev=9,t.next=12,y({tblName:p,startTime:h,endTime:f});case 12:m=t.sent,console.log("count"),console.log(m),n[g.a[p]]=m,n.push({name:g.a[p],key:p,count:m}),t.next=23;break;case 19:t.prev=19,t.t0=t.catch(9),console.log(t.t0),n.push({name:g.a[p],key:p,count:0});case 23:i=!0,t.next=7;break;case 26:t.next=32;break;case 28:t.prev=28,t.t1=t.catch(5),r=!0,o=t.t1;case 32:t.prev=32,t.prev=33,!i&&u.return&&u.return();case 35:if(t.prev=35,!r){t.next=38;break}throw o;case 38:return t.finish(35);case 39:return t.finish(32);case 40:return t.abrupt("return",n);case 41:case"end":return t.stop()}},t,v,[[5,28,32,40],[9,19],[33,,35,39]])}));return function(e){return t.apply(this,arguments)}}(),A=function(t){var e=t.startTime,n=t.endTime,a=t.title,r=void 0===a?"":a,s=t.message,o=void 0===s?"":s,c=t.level,u=t.limit,l=t.page,d=new h.a.Query("tb_mobile_script");return d.greaterThanOrEqualTo("createdAt",e),d.lessThanOrEqualTo("createdAt",n),d.descending("createdAt"),r&&d.contains("title",r),o&&d.contains("message",o),d.equalTo("level",c),d.limit(u),d.skip((l-1)*u),i.a.all([d.find().then(function(t){return t.map(function(t){return t.toJSON()})}),d.count()])},b=function(t){var e=t.startTime,n=t.endTime,a=t.title,r=void 0===a?"":a,s=t.message,o=void 0===s?"":s,c=t.type,u=t.limit,l=t.page,d=new h.a.Query("tb_mobile_ajax");return d.greaterThanOrEqualTo("createdAt",e),d.lessThanOrEqualTo("createdAt",n),d.descending("createdAt"),d.limit(u),d.skip((l-1)*u),r&&d.contains("title",r),o&&d.contains("message",o),d.equalTo("type",c),i.a.all([d.find().then(function(t){return t.map(function(t){return t.toJSON()})}),d.count()])},C=function(t){var e=t.event,n=t.startTime,a=t.endTime,r=t.limit,s=t.page,o=new h.a.Query("tb_mobile_event_"+e);return o.greaterThanOrEqualTo("createdAt",n),o.lessThanOrEqualTo("createdAt",a),o.descending("createdAt"),o.limit(r),o.skip((s-1)*r),i.a.all([o.find().then(function(t){return t.map(function(t){return t.toJSON()})}),o.count()])};e.a={user:m.a,getLogList:T,getCount:y,getJsLogList:A,getApiLogList:b,getEventList:_,getEventListByName:C}},idgd:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-container"},[a("Form",{ref:"loginForm",staticClass:"login-form",attrs:{model:t.form,rules:t.rules}},[a("div",{staticClass:"tc"},[a("img",{attrs:{src:n("dLd/"),alt:"",width:"50",height:"50"}})]),t._v(" "),a("h3",{staticClass:"login-form-title"},[t._v("前端日志分析系统")]),t._v(" "),a("FormItem",{staticClass:"mb30",attrs:{prop:"username"}},[a("Input",{attrs:{size:"large",placeholder:"请输入用户名"},model:{value:t.form.username,callback:function(e){t.$set(t.form,"username",e)},expression:"form.username"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("Icon",{attrs:{size:16,type:"person"}})],1)])],1),t._v(" "),a("FormItem",{staticClass:"mb30",attrs:{prop:"password"}},[a("Input",{attrs:{type:"password",size:"large",placeholder:"请输入密码"},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}},[a("span",{attrs:{slot:"prepend"},slot:"prepend"},[a("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),t._v(" "),a("FormItem",[a("Button",{attrs:{size:"large",type:"primary",long:"",loading:t.loading},on:{click:t.onLogin}},[t._v("登录")])],1)],1),t._v(" "),a("div",{staticClass:"login-footer"},[t._v("\n    Copyright  2017 每天健康前端技术部出品\n  ")])],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},jryF:function(t,e,n){"use strict";var a=n("w+eW"),i=n.n(a);i.a.locale("zh-cn"),e.a={toFixed2:function(t){return t?t.toFixed(2):"0.00"},formatPrice:function(t){return(t/1e3).toFixed(2)},formatDateTime:function(t,e){return t instanceof Date||(t=new Date(t)),i()(t).format(e||"YYYY-MM-DD HH:mm:ss")},formatDate:function(t,e){return t instanceof Date||(t=new Date(t)),i()(t).format(e||"L")},dateFromNow:function(t,e){return t instanceof Date||(t=new Date(t)),i()(t).fromNow()}}},kciO:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("f1I7"),i=n("FzD4"),r=n("VU/8"),s=r(a.a,i.a,!1,null,null,null);e.default=s.exports},kvrL:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("q2nu"),i=n("QYZ7"),r=n("VU/8"),s=r(a.a,i.a,!1,null,null,null);e.default=s.exports},lfHO:function(t,e,n){"use strict";function a(t){n("cjRC")}var i=n("cHHQ"),r=n("rz9Z"),s=n("VU/8"),o=a,c=s(i.a,r.a,!1,o,null,null);e.a=c.exports},m1D0:function(t,e,n){"use strict";var a=n("Y4FN"),i=n.n(a);e.a={data:function(){return{loading:!1,form:{username:"admin",password:""},rules:{username:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{onLogin:function(){var t=this;this.$refs.loginForm.validate(function(e){if(e){var n=t.form,a=n.username,r=n.password,s={username:a,password:r};t.$Loading.start(),t.loading=!0,t.$store.dispatch(t.$$types.LOGIN,s).then(function(e){t.loading=!1,t.$Loading.finish(),t.$Message.success("登录成功"),i.a.set("username",e.username),setTimeout(function(){return t.$router.push({name:"home"})},1e3)}).catch(function(e){t.loading=!1,t.$Loading.finish(),t.$Message.warning(e.message)})}})}}}},po19:function(t,e,n){"use strict";var a,i=n("bOdI"),r=n.n(i),s=n("Xxa5"),o=n.n(s),c=n("exGp"),u=n.n(c),l=n("JaHG"),d=n("gyMJ"),p=n("5reh"),m=n("QmSG"),h=n("Y4FN"),f=n.n(h),g=(a={},r()(a,p.TOGGLE_SIDEBAR,function(t,e){t.commit(p.TOGGLE_SIDEBAR)}),r()(a,p.ADD_HISTORY_TAG,function(t,e){t.commit(p.ADD_HISTORY_TAG,e)}),r()(a,p.DEL_HISTORY_TAG,function(t,e){t.commit(p.DEL_HISTORY_TAG,e)}),r()(a,p.INIT_PAGES_TAGS,function(t,e){var n=l.a.getPagesTags(e);t.commit(p.INIT_PAGES_TAGS,n)}),r()(a,p.UPDATE_BREADCRUMB,function(t,e){console.log(e),e.length>=2?t.commit(p.SET_OPENED_MENUS,[e[0].name]):t.commit(p.CLEARE_OPENED_MENUS),t.commit(p.UPDATE_BREADCRUMB,e)}),r()(a,p.GET_JS_CHARTDATA,function(t,e){var n=e.startTime,a=e.endTime;return t.commit(p.JS_CHART_LOADING,!0),d.a.getLogList({type:"script",startTime:n,endTime:a,props:["level"],groupName:"level",chartData:{error:[],debug:[],warn:[],info:[]}}).then(function(e){e.isToday&&f.a.set(m.b.jsLogChart,e),t.commit(p.GET_JS_CHARTDATA,e),t.commit(p.JS_CHART_LOADING,!1)}).catch(function(){t.commit(p.JS_CHART_LOADING,!1)})}),r()(a,p.GET_API_CHARTDATA,function(t,e){var n=this;return u()(o.a.mark(function a(){var i,r,s;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=e.startTime,r=e.endTime,t.commit(p.API_CHART_LOADING,!0),n.prev=2,n.next=5,d.a.getLogList({type:"ajax",startTime:i,endTime:r,props:["type"],groupName:"type",chartData:{error:[],fail:[],success:[]}});case 5:s=n.sent,s.isToday&&f.a.set(m.b.apiLogChart,s),t.commit(p.GET_API_CHARTDATA,s),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(2);case 12:t.commit(p.API_CHART_LOADING,!1);case 13:case"end":return n.stop()}},a,n,[[2,10]])}))()}),r()(a,p.GET_EVENT_CHARTDATA,function(t,e){var n=this;return u()(o.a.mark(function a(){var i,r;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return i=[],t.commit(p.EVENT_CHART_LOADING,!0),n.next=4,d.a.getEventList(e);case 4:i=n.sent,t.commit(p.EVENT_CHART_LOADING,!1),r={nums:i,chartData:{yAxis:i.map(function(t){return t.name}),data:i.map(function(t){return t.count})}},f.a.set(m.b.eventLogChart,r),t.commit(p.GET_EVENT_CHARTDATA,r);case 9:case"end":return n.stop()}},a,n)}))()}),a);e.a=g},q2nu:function(t,e,n){"use strict";var a=n("XLwt"),i=n.n(a);e.a={props:{className:{type:String,default:"chart"},id:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"100%"},loading:{type:Boolean,default:!1},data:{type:Object,default:function(){return{yAxis:null,data:null}}}},data:function(){return{chart:null}},mounted:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=i.a.init(document.getElementById(this.id)),this.chart.setOption({tooltip:{trigger:"axis"},legend:{data:["事件触发次数"],itemWidth:14,itemHeight:14,right:"4%"},calculable:!0,grid:{left:"3%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"value",boundaryGap:[0,.01],axisLine:{lineStyle:{color:"#E6E6E6",width:2}},axisLabel:{textStyle:{color:"#333333"}}}],yAxis:[{type:"category",data:this.data.yAxis,axisTick:{show:!1},axisLabel:{margin:10,textStyle:{fontSize:14,color:"#333333"}},axisLine:{lineStyle:{color:"#E6E6E6",width:2}},splitLine:{lineStyle:{color:["#d9d9d9"]}}}],series:[{name:"事件触发次数",type:"bar",data:this.data.data,barWidth:40,barMaxWidth:40,itemStyle:{normal:{color:"#83bff6"},emphasis:{color:"#2D8CF0"}}}]})},showLoading:function(){this.chart&&this.chart.showLoading({title:"正在努力加载中",color:"#2D8CF0"})},hideLoading:function(){this.chart&&this.chart.hideLoading()}},watch:{data:function(t){var e=this;if(this.chart){var n=this.chart.getOption();n.xAxis[0].data=t.xAxis,n.series[0].data=t.data,this.$nextTick(function(){e.chart.setOption(n),e.hideLoading()})}},loading:function(t){t?this.showLoading():this.hideLoading()}}}},rUn1:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Card",{staticClass:"mb20",attrs:{padding:0,shadow:""}},[n("div",{staticClass:"ui-card-title",attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-pulse-strong"}}),t._v("\n      脚本日志统计\n    ")],1),t._v(" "),n("div",{staticStyle:{"margin-top":"-10px"},attrs:{slot:"extra"},slot:"extra"},[n("Button",{class:{"c-bl":"week"==t.jsTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("js","week")}}},[t._v("最近7天")]),t._v(" "),n("Button",{class:{"c-bl":"yesterday"==t.jsTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("js","yesterday")}}},[t._v("昨日")]),t._v(" "),n("Button",{class:{"c-bl":"today"==t.jsTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("js","today")}}},[t._v("今日")]),t._v(" "),n("Date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"选择日期",clearable:!1},on:{"on-change":function(e){t.changeRangeTime("js")}},model:{value:t.jsRangeTime,callback:function(e){t.jsRangeTime=e},expression:"jsRangeTime"}}),t._v(" "),n("a",{staticClass:"dib pl10",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.refreshChart("js")}}},[n("Icon",{attrs:{type:"ios-loop-strong f16"}})],1)],1),t._v(" "),n("div",[n("Row",[n("Col",{attrs:{span:"4 bdr-r"}},[n("Row",{staticClass:"jslog-num-info bdr-b"},[n("Col",{attrs:{span:"8"}},[n("i",{staticClass:"ui-dot-state ui-dot-state__rd"}),t._v(" 错误")]),t._v(" "),n("Col",{staticClass:"f24 tr",attrs:{span:"16"}},[n("counter",{attrs:{endVal:t.jsErrorNum}})],1)],1),t._v(" "),n("Row",{staticClass:"jslog-num-info bdr-b"},[n("Col",{attrs:{span:"8"}},[n("i",{staticClass:"ui-dot-state ui-dot-state__or"}),t._v(" 警告")]),t._v(" "),n("Col",{staticClass:"f24 tr",attrs:{span:"16"}},[n("counter",{attrs:{endVal:t.jsWarnNum}})],1)],1),t._v(" "),n("Row",{staticClass:"jslog-num-info bdr-b"},[n("Col",{attrs:{span:"8"}},[n("i",{staticClass:"ui-dot-state ui-dot-state__bl"}),t._v(" 调试")]),t._v(" "),n("Col",{staticClass:"f24 tr",attrs:{span:"16"}},[n("counter",{attrs:{endVal:t.jsDebugNum}})],1)],1),t._v(" "),n("Row",{staticClass:"jslog-num-info"},[n("Col",{attrs:{span:"8"}},[n("i",{staticClass:"ui-dot-state"}),t._v(" 日志")]),t._v(" "),n("Col",{staticClass:"f24 tr",attrs:{span:"16"}},[n("counter",{attrs:{endVal:t.jsInfoNum}})],1)],1)],1),t._v(" "),n("Col",{attrs:{span:"20 pt20"}},[n("js-bar-chart",{attrs:{height:"220px",data:t.jsChartData,loading:t.jsChartLoading,id:"jslogChart"}})],1)],1)],1)]),t._v(" "),n("Card",{staticClass:"mb20",attrs:{padding:0,shadow:""}},[n("div",{staticClass:"ui-card-title",attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-pulse-strong"}}),t._v("\n      API调用统计\n    ")],1),t._v(" "),n("div",{staticStyle:{"margin-top":"-10px"},attrs:{slot:"extra"},slot:"extra"},[n("Button",{class:{"c-bl":"week"==t.apiTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("api","week")}}},[t._v("最近7天")]),t._v(" "),n("Button",{class:{"c-bl":"yesterday"==t.apiTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("api","yesterday")}}},[t._v("昨日")]),t._v(" "),n("Button",{class:{"c-bl":"today"==t.apiTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("api","today")}}},[t._v("今日")]),t._v(" "),n("Date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"选择日期",clearable:!1},on:{"on-change":function(e){t.changeRangeTime("api")}},model:{value:t.apiRangeTime,callback:function(e){t.apiRangeTime=e},expression:"apiRangeTime"}}),t._v(" "),n("a",{staticClass:"dib pl10",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.refreshChart("api")}}},[n("Icon",{attrs:{type:"ios-loop-strong f16"}})],1)],1),t._v(" "),n("div",[n("Row",[n("Col",{attrs:{span:"4 bdr-r"}},[n("Row",{staticClass:"apilog-num-info bdr-b"},[n("Col",{attrs:{span:"8"}},[n("i",{staticClass:"ui-dot-state ui-dot-state__rd"}),t._v(" 失败")]),t._v(" "),n("Col",{staticClass:"f24 tr",attrs:{span:"16"}},[n("counter",{attrs:{endVal:t.apiErrorNum}})],1)],1),t._v(" "),n("Row",{staticClass:"apilog-num-info bdr-b"},[n("Col",{attrs:{span:"8"}},[n("i",{staticClass:"ui-dot-state ui-dot-state__or"}),t._v(" 异常")]),t._v(" "),n("Col",{staticClass:"f24 tr",attrs:{span:"16"}},[n("counter",{attrs:{endVal:t.apiFailNum}})],1)],1),t._v(" "),n("Row",{staticClass:"apilog-num-info"},[n("Col",{attrs:{span:"8"}},[n("i",{staticClass:"ui-dot-state ui-dot-state__gr"}),t._v(" 成功")]),t._v(" "),n("Col",{staticClass:"f24 tr",attrs:{span:"16"}},[n("counter",{attrs:{endVal:t.apiSuccessNum}})],1)],1)],1),t._v(" "),n("Col",{attrs:{span:"20 pt20"}},[n("api-bar-chart",{attrs:{height:"220px",data:t.apiChartData,loading:t.apiChartLoading,id:"apilogChart"}})],1)],1)],1)]),t._v(" "),n("Card",{staticClass:"mb20",attrs:{padding:0,shadow:""}},[n("div",{staticClass:"ui-card-title",attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"ios-pulse-strong"}}),t._v("\n      事件触发统计\n    ")],1),t._v(" "),n("div",{staticStyle:{"margin-top":"-10px"},attrs:{slot:"extra"},slot:"extra"},[n("Button",{class:{"c-bl":"week"==t.eventTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("event","week")}}},[t._v("最近7天")]),t._v(" "),n("Button",{class:{"c-bl":"yesterday"==t.eventTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("event","yesterday")}}},[t._v("昨日")]),t._v(" "),n("Button",{class:{"c-bl":"today"==t.eventTimeType},attrs:{type:"text",size:"large"},on:{click:function(e){t.changeTime("event","today")}}},[t._v("今日")]),t._v(" "),n("Date-picker",{staticStyle:{width:"200px"},attrs:{type:"daterange",placement:"bottom-end",placeholder:"选择日期",clearable:!1},on:{"on-change":function(e){t.changeRangeTime("event")}},model:{value:t.eventRangeTime,callback:function(e){t.eventRangeTime=e},expression:"eventRangeTime"}}),t._v(" "),n("a",{staticClass:"dib pl10",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.refreshChart("event")}}},[n("Icon",{attrs:{type:"ios-loop-strong f16"}})],1)],1),t._v(" "),n("div",[n("Row",[n("Col",{attrs:{span:"4 p10"}},[n("table",{staticClass:"eventlog-tbl-info"},[n("colgroup",[n("col",{attrs:{width:"70%"}})]),t._v(" "),t._l(t.eventNums,function(e){return n("tr",{key:e.key},[n("td",{staticClass:"ell",attrs:{title:e.name}},[t._v(t._s(e.name))]),n("td",[t._v(t._s(e.count))])])})],2)]),t._v(" "),n("Col",{staticClass:"bdr-l",staticStyle:{height:"500px"},attrs:{span:"20"}},[n("EventBarChart",{attrs:{data:t.eventChartData,loading:t.eventChartLoading,id:"eventChart"}})],1)],1)],1)])],1)},i=[],r={render:a,staticRenderFns:i};e.a=r},rz9Z:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout",class:{"layout-sidebar-closed":!t.sidebarOpened}},[n("div",{staticClass:"layout-sidebar"},[n("Dropdown",{staticClass:"layout-sidebar-dropdown",attrs:{transfer:"",trigger:"click",placement:t.sidebarOpened?"bottom":"right-start"},on:{"on-click":t.onChangeSystem}},[n("div",{staticClass:"pl10 pr10"},[n("div",{staticClass:"layout-sidebar-dropdown-text"},[t._v("\n            "+t._s(t.getLetter())+"\n          ")])]),t._v(" "),n("DropdownMenu",{style:{width:t.sidebarOpened?"160px":"60px"},attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"Mobile",selected:"Mobile"===t.currentSystem}},[t._v("Mobile")])],1)],1),t._v(" "),t.sidebarOpened?n("main-sidebar",{attrs:{sidebarOpened:t.sidebarOpened,menus:t.menus,opened:t.openedMenus}}):n("main-sidebar-shrink",{attrs:{menus:t.menus}})],1),t._v(" "),n("div",{staticClass:"layout-container"},[n("main-header"),t._v(" "),n("main-history"),t._v(" "),n("main-content")],1)])},i=[],r={render:a,staticRenderFns:i};e.a=r},sRpY:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"username",function(){return a}),n.d(e,"menus",function(){return i});var a=function(t){return t.account.username||""},i=function(t){return t.menus}},sq5D:function(t,e){},uzPl:function(t,e,n){"use strict";var a=n("lfHO"),i=n("ARoL"),r=n("A66B");e.a=[{path:"/",name:"home",component:a.a,redirect:"/dashboard",icon:"ios-speedometer",inSidebar:!0,meta:{title:"数据概览"},children:[{path:"dashboard",name:"home-dashboard",component:i.default,meta:{title:"首页"}}]},{path:"/ajax",name:"ajax",inSidebar:!0,component:a.a,icon:"ios-lightbulb",meta:{title:"异步请求"},children:[{path:"index",name:"ajax-index",component:r("ajax/index"),meta:{title:"异步请求"}}]},{path:"/script",name:"script",icon:"ios-flask",inSidebar:!0,component:a.a,meta:{title:"脚本日志"},children:[{path:"index",name:"script-index",component:r("script/index"),meta:{title:"脚本日志"}}]},{path:"/events",name:"events",inSidebar:!0,component:a.a,icon:"ios-cog",meta:{title:"自定义事件"},children:[{path:"index",name:"events-index",component:r("events/index"),meta:{title:"自定义事件"}}]}]},vJMf:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main-header"},[n("div",{staticClass:"main-header-left"},[n("Button",{staticClass:"main-header-toggleicon",class:{active:t.sidebarOpened},attrs:{type:"text"},on:{click:t.toggleSidebar}},[n("i",{staticClass:"iconfont icon-zhankaicaidan-copy f32"})])],1),t._v(" "),n("div",{staticClass:"main-header-middle"},[n("Breadcrumb",{staticClass:"main-header-middle-inner"},t._l(t.breadCrumbData,function(e){return n("BreadcrumbItem",{key:e.name,attrs:{href:e.path}},[t._v(t._s(e.title))])}))],1),t._v(" "),n("div",{staticClass:"main-header-right"},[n("div",{staticClass:"full-screen",on:{click:t.toggleFullScreen}},[n("Tooltip",{attrs:{content:t.isFullScreen?"退出全屏":"全屏",placement:"bottom"}},[n("Icon",{attrs:{type:t.isFullScreen?"arrow-shrink":"arrow-expand",size:23}})],1)],1),t._v(" "),n("div",{staticClass:"lock-screen",on:{click:t.lockScreen}},[n("Tooltip",{attrs:{content:"锁屏",placement:"bottom"}},[n("Icon",{attrs:{type:"locked",size:20}})],1)],1),t._v(" "),n("div",{staticClass:"user-menu"},[n("Row",{staticClass:"user-menu-inner",attrs:{type:"flex",justify:"end",align:"middle"}},[n("Dropdown",{attrs:{trigger:"click",placement:"bottom-end"},on:{"on-click":t.handleClickUserDropdown}},[n("span",{staticClass:"main-user-name f16 tc"},[t._v(t._s(t.account.username))]),t._v(" "),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"logout"}},[t._v("退出登录")])],1)],1)],1)],1)])])},i=[],r={render:a,staticRenderFns:i};e.a=r},vMJZ:function(t,e,n){"use strict";var a=n("aLbg");e.a={login:function(t){return a.a.User.logIn(t.username,t.password)},logout:function(){return a.a.User.logOut()},signUp:function(t){var e=new a.a.User;return e.setUsername(t.username),e.setPassword(t.password),e.signUp()},getUser:function(){return a.a.User.current()||{}}}},xJD8:function(t,e,n){"use strict";e.a={name:"app"}},zBB5:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"sidebarOpened",function(){return a}),n.d(e,"jsErrorNum",function(){return i}),n.d(e,"jsWarnNum",function(){return r}),n.d(e,"jsDebugNum",function(){return s}),n.d(e,"jsInfoNum",function(){return o}),n.d(e,"jsChartData",function(){return c}),n.d(e,"apiErrorNum",function(){return u}),n.d(e,"apiFailNum",function(){return l}),n.d(e,"apiSuccessNum",function(){return d}),n.d(e,"apiChartData",function(){return p}),n.d(e,"eventNums",function(){return m}),n.d(e,"eventChartData",function(){return h}),n.d(e,"jsChartLoading",function(){return f}),n.d(e,"apiChartLoading",function(){return g}),n.d(e,"eventChartLoading",function(){return v});var a=function(t){return t.sidebarOpened},i=function(t){return t.jsChartData.nums&&t.jsChartData.nums.error||0},r=function(t){return t.jsChartData.nums&&t.jsChartData.nums.warn||0},s=function(t){return t.jsChartData.nums&&t.jsChartData.nums.debug||0},o=function(t){return t.jsChartData.nums&&t.jsChartData.nums.info||0},c=function(t){return t.jsChartData.chartData||{}},u=function(t){return t.apiChartData.nums&&t.apiChartData.nums.error||0},l=function(t){return t.apiChartData.nums&&t.apiChartData.nums.fail||0},d=function(t){return t.apiChartData.nums&&t.apiChartData.nums.success||0},p=function(t){return t.apiChartData.chartData||{}},m=function(t){return t.eventChartData.nums||{}},h=function(t){return t.eventChartData.chartData||{}},f=function(t){return t.jsChartLoading},g=function(t){return t.apiChartLoading},v=function(t){return t.eventChartLoading}},zeVt:function(t,e,n){"use strict";var a=n("5reh");e.a={install:function(t){t.prototype.$$types=a}}}},["NHnr"]);
//# sourceMappingURL=app.abfef26ecffb89195075.js.map